<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        body{
            background-color: rgb(234, 30, 64);
            font-family: 'Tajawal', sans-serif;
        }

        .task1{
            display: flex;
            background-color: white;
            padding: 3px;
            border-bottom: solid black 1px;
            transition: box-shadow 0.2s;
        }
        .done{
            background-color: rgb(120, 247, 120);

        }
        .task1:hover{
            box-shadow: 0px 3px 15px rgb(76, 74, 74);
        }
        .header-table{
          background-color: rgb(236, 236, 243);
          width: 60%;
          margin-top: 60px;
        }
        button{
            border: none;
            font-size: 20px;
            box-shadow: 0px 3px 5px rgb(154, 152, 152);
        }
        .circle{
            width: 40px;
            height:40px;
            border-radius: 50%;
            line-height: 0;
        }

    </style>
</head>
<body>
    <div style="direction: rtl;">
        <!--Center Div-->
        <div style="display: flex; justify-content: center;align-items: center;">
          <!--Tasks Table-->  
            <div class="header-table">
                <!--Header-->
                <div style="width: 100%; text-align: center; background-color: rgb(232, 71, 98); color: white; padding:1% 0;">
                    <h1 style="display: inline;">مهامي</h1>
                    <button id="btn" class="circle" style="float: right; background-color: white; margin-right: 10px;">
                        <span class="material-symbols-outlined">
                            add
                            </span>
                    </button>

                </div>
                <!-- // Header //-->
               <!--Section Tasks-->
               <div id="tasks" style="padding: 20px;">
                <!--task1-->
                <div class="task1">
                    <!--information1-->
                    <div style="width: 70%;">
                        <h2>حفظ القرآن</h2>

                        <div>
                            <span class="material-symbols-outlined">
                                date_range
                                </span>
                            <span>
                                10/12/2000
                            </span>
                        </div>
                    </div>
                    <!-- // information1 //-->

                     <!--information2-->
                     <div style="display: flex; justify-content: space-between;align-items: center; width: 20%;">
                        <button class="circle" style="background-color: red; color: white;"><span class="material-symbols-outlined">
                            delete
                            </span></button>

                        <button class="circle" style="background-color:green; color: white; "><span class="material-symbols-outlined">
                            done
                            </span></button>

                        <button class="circle" style="background-color: blue; color: white; "><span class="material-symbols-outlined">
                            edit
                            </span></button>

                     </div>
                     <!-- // information2 //-->



                </div>
                <!-- // task1 //-->

                <div class="task1">
                    <!--information1-->
                    <div style="width: 70%;">
                        <h2>حفظ القرآن</h2>

                        <div>
                            <span class="material-symbols-outlined">
                                date_range
                                </span>
                            <span>
                                10/12/2000
                            </span>
                        </div>
                    </div>
                    <!-- // information1 //-->

                     <!--information2-->
                     <div style="display: flex; justify-content: space-between;align-items: center; width: 20%;">
                        <button class="circle" style="background-color: red; color: white;"><span class="material-symbols-outlined">
                            delete
                            </span></button>

                        <button class="circle" style="background-color: green; color: white; "><span class="material-symbols-outlined">
                            done
                            </span></button>

                        <button class="circle" style="background-color: blue; color: white; "><span class="material-symbols-outlined">
                            edit
                            </span></button>

                     </div>
                     <!-- // information2 //-->



                </div>
                <!-- // task1 //-->

                <div class="task1">
                    <!--information1-->
                    <div style="width: 70%;">
                        <h2>حفظ القرآن</h2>

                        <div>
                            <span class="material-symbols-outlined">
                                date_range
                                </span>
                            <span>
                                10/12/2000
                            </span>
                        </div>
                    </div>
                    <!-- // information1 //-->

                     <!--information2-->
                     <div style="display: flex; justify-content: space-between;align-items: center; width: 20%;">
                        <button class="circle" style="background-color: red; color: white;"><span class="material-symbols-outlined">
                            delete
                            </span></button>

                        <button class="circle" style="background-color: green; color: white; "><span class="material-symbols-outlined">
                            done
                            </span></button>

                        <button class="circle" style="background-color: blue; color: white; "><span class="material-symbols-outlined">
                            edit
                            </span></button>

                     </div>
                     <!-- // information2 //-->



                </div>
                <!-- // task1 //-->

                <div class="task1">
                    <!--information1-->
                    <div style="width: 70%;">
                        <h2>حفظ القرآن</h2>

                        <div>
                            <span class="material-symbols-outlined">
                                date_range
                                </span>
                            <span>
                                10/12/2000
                            </span>
                        </div>
                    </div>
                    <!-- // information1 //-->

                     <!--information2-->
                     <div style="display: flex; justify-content: space-between;align-items: center; width: 20%;">
                        <button class="circle" style="background-color: red; color: white;"><span class="material-symbols-outlined">
                            delete
                            </span></button>

                        <button class="circle" style="background-color: green; color: white; "><span class="material-symbols-outlined">
                            done
                            </span></button>

                        <button class="circle" style="background-color: blue; color: white; "><span class="material-symbols-outlined">
                            edit
                            </span></button>

                     </div>
                     <!-- // information2 //-->



                </div>
                <!-- // task1 //-->

                  
               </div>


               <!-- // Section Tasks //-->
            </div>
          <!--// Tasks Table //-->   
        </div>
        <!--// Center Div //-->
    </div>
</body>
 <script>
   
   let dailyTasks=[
       {
           "title":"حفظ القرآن",
           "date":"10/10/2010",
           "done":false
       },

       {
           "title":"قراءة الورد اليومي",
           "date":"10/15/2010",
           "done":false
       },

       {
           "title":"حفظ دروس الجافا المطلوبة",
           "date":"10/12/2010",
           "done":false
       },   
       {
           "title":"الرياضة اليومية",
           "date":"10/18/2010",
           "done":true
       }
   ]

   function getItem(){
    let y=JSON.parse(localStorage.getItem("tasks"))
    tasks= y ?? []
   }

   function fullPage(){
    document.getElementById("tasks").innerHTML=" "
    let index=0
    for(task of  dailyTasks)
    {

        let container=  
      `
        <!--task1-->
                <div class="task1 ${task.done?'done':''}"  >
                    <!--information1-->
                    <div style="width: 70%;">
                        <h2>${task.title}</h2>

                        <div>
                            <span class="material-symbols-outlined">
                                date_range
                                </span>
                            <span>
                                ${task.date}
                
                            </span>
                        </div>
                    </div>
                    <!-- // information1 //-->

                     <!--information2-->
                     <div style="display: flex; justify-content: space-between;align-items: center; width: 20%;">
                        <button onclick="deleteTask(${index})" class="circle" style="background-color: red; color: white;"><span class="material-symbols-outlined">
                            delete
                            </span></button>

                            ${task.done?`
                                <button onclick="doneTask(${index})" class="circle" style="background-color:rgb(82, 18, 53); color: white; "><span class="material-symbols-outlined">
                            Cancel
                            </span></button> 
                                
                                `:`
                                <button onclick="doneTask(${index})" class="circle" style="background-color: green; color: white; "><span class="material-symbols-outlined">
                            done
                            </span></button> 
                            
                            `}

                        <button onclick="editTask(${index})" class="circle" style="background-color: blue; color: white; "><span class="material-symbols-outlined">
                            edit
                            </span></button>

                     </div>
                     <!-- // information2 //-->



                </div>
                <!-- // task1 //-->
        
      `
        document.getElementById("tasks").innerHTML +=container
      index++
    }
   }
   fullPage()
    document.getElementById("btn").addEventListener("click",function(){
        let nowDate= new Date()
        let date= nowDate.getDate() +"/" + (nowDate.getMonth()+1)+"/"+ nowDate.getFullYear() 


       let hovere= prompt("ادخل عنوان مهمتك اليومية")
       let task1={
           "title":hovere,
           "date":"10/18/2010",
           "done":false
       }
       dailyTasks.push(task1)

       fullPage()
    })
    function deleteTask(index){
        let x=confirm("هل انت متاكد من حذف هذه المهمة؟")
        if(x){
            dailyTasks.splice(index,1)
            storOnLocalStorage()
            fullPage()
        }
    }

    function editTask(index){
        let x=dailyTasks[index]
        let onClickTask=prompt("ادخل النص الجديد",x.title)
        x.title=onClickTask
        storOnLocalStorage()
        fullPage()
    }
    function doneTask(index){
        let x=dailyTasks[index]
        if(x.done){
            x.done=false
        }else{
            x.done=true
        }
        storOnLocalStorage()
        fullPage()

    }
    function storOnLocalStorage(){
        let string=JSON.stringify(tasks)
       localStorage.setItem("tasks",string)
    }
</script>
</html>